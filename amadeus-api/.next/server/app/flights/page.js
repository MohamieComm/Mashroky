(()=>{var e={};e.id=176,e.ids=[176],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},833:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),s(3345),s(1506),s(5866);var r=s(3191),a=s(8716),l=s(7922),n=s.n(l),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["flights",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3345)),"C:\\Users\\ishou\\Desktop\\MashroukGit\\Tmahshruk\\CleanMashroky\\amadeus-api\\app\\flights\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\ishou\\Desktop\\MashroukGit\\Tmahshruk\\CleanMashroky\\amadeus-api\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\ishou\\Desktop\\MashroukGit\\Tmahshruk\\CleanMashroky\\amadeus-api\\app\\flights\\page.tsx"],u="/flights/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/flights/page",pathname:"/flights",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9863:(e,t,s)=>{Promise.resolve().then(s.bind(s,1443))},8591:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9404,23))},9362:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},1443:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(326),a=s(7577),l=s(8528);function n({label:e,placeholder:t,value:s,onChange:l}){let[n,i]=(0,a.useState)(""),[d,o]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,g]=(0,a.useState)(s),p=(0,a.useRef)(null);return(0,r.jsxs)("div",{ref:p,className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),r.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-right",placeholder:t,value:h||n,onChange:e=>{i(e.target.value),g("")},onFocus:()=>n.length>=2&&u(!0)}),m&&r.jsx("div",{className:"absolute left-3 top-10",children:r.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),c&&d.length>0&&r.jsx("ul",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:d.map(e=>(0,r.jsxs)("li",{className:"px-4 py-3 hover:bg-blue-50 cursor-pointer border-b last:border-b-0 text-right",onClick:()=>{let t=e.iataCode||"",s=`${e.name} (${t})`;l(t,s),g(s),i(""),u(!1)},children:[r.jsx("div",{className:"font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.iataCode," — ",e.address?.cityName||""," ",e.address?.countryCode||""]})]},e.id||e.iataCode))})]})}function i({onSearch:e,loading:t}){let[s,l]=(0,a.useState)("roundtrip"),[i,d]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[g,p]=(0,a.useState)(1),[b,f]=(0,a.useState)(0),[j,y]=(0,a.useState)(0),[v,N]=(0,a.useState)("ECONOMY"),[w,S]=(0,a.useState)(!1);return(0,r.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!i||!o||!u)return;let r={originLocationCode:i,destinationLocationCode:o,departureDate:u,adults:g,travelClass:v,nonStop:w,currencyCode:"SAR",max:50};b>0&&(r.children=b),j>0&&(r.infants=j),"roundtrip"===s&&x&&(r.returnDate=x),e(r)},className:"bg-white rounded-2xl shadow-xl p-6 space-y-6",dir:"rtl",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:"roundtrip"===s,onChange:()=>l("roundtrip"),className:"text-blue-600"}),r.jsx("span",{children:"ذهاب وعودة"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:"oneway"===s,onChange:()=>l("oneway"),className:"text-blue-600"}),r.jsx("span",{children:"ذهاب فقط"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(n,{label:"من",placeholder:"مطار المغادرة",value:i,onChange:e=>d(e)}),r.jsx(n,{label:"إلى",placeholder:"مطار الوصول",value:o,onChange:e=>c(e)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ المغادرة"}),r.jsx("input",{type:"date",required:!0,value:u,onChange:e=>m(e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),"roundtrip"===s&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ العودة"}),r.jsx("input",{type:"date",value:x,onChange:e=>h(e.target.value),min:u||new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"بالغين"}),r.jsx("select",{value:g,onChange:e=>p(parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[1,2,3,4,5,6,7,8,9].map(e=>r.jsx("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"أطفال"}),r.jsx("select",{value:b,onChange:e=>f(parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[0,1,2,3,4,5].map(e=>r.jsx("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رضع"}),r.jsx("select",{value:j,onChange:e=>y(parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[0,1,2].map(e=>r.jsx("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الدرجة"}),(0,r.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"ECONOMY",children:"اقتصادية"}),r.jsx("option",{value:"PREMIUM_ECONOMY",children:"اقتصادية مميزة"}),r.jsx("option",{value:"BUSINESS",children:"رجال الأعمال"}),r.jsx("option",{value:"FIRST",children:"الدرجة الأولى"})]})]})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:w,onChange:e=>S(e.target.checked),className:"rounded text-blue-600"}),r.jsx("span",{className:"text-sm",children:"رحلات مباشرة فقط"})]}),r.jsx("button",{type:"submit",disabled:t||!i||!o||!u,className:"w-full py-4 bg-gradient-to-l from-blue-600 to-blue-700 text-white font-bold rounded-xl hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-lg",children:t?(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}),"جاري البحث..."]}):"\uD83D\uDD0D بحث عن رحلات"})]})}var d=s(7863);function o({offers:e,onSelect:t,dictionaries:s}){if(0===e.length)return(0,r.jsxs)("div",{className:"text-center py-12 bg-white rounded-xl shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:"✈️"}),r.jsx("p",{className:"text-xl text-gray-600",children:"لم يتم العثور على رحلات"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"جرب تغيير معايير البحث"})]});let a=e=>s?.carriers?.[e]||e;return(0,r.jsxs)("div",{className:"space-y-4",dir:"rtl",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:[e.length," رحلة متاحة"]})}),e.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow border border-gray-100 overflow-hidden",children:[e.itineraries.map((e,t)=>{let s=e.segments[0],l=e.segments[e.segments.length-1],n=e.segments.length-1;return(0,r.jsxs)("div",{className:"p-4 border-b last:border-b-0",children:[1===t&&r.jsx("div",{className:"text-xs text-blue-600 font-medium mb-2",children:"\uD83D\uDD04 رحلة العودة"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 min-w-[120px]",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-sm font-bold text-blue-700",children:s.carrierCode}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:a(s.carrierCode)}),(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:[s.carrierCode,s.number]})]})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:(0,d.mr)(s.departure.at)}),r.jsx("div",{className:"text-sm text-gray-500",children:s.departure.iataCode})]}),(0,r.jsxs)("div",{className:"text-center flex-1 px-4",children:[r.jsx("div",{className:"text-xs text-gray-400",children:e.duration&&(0,d.LU)(e.duration)}),(0,r.jsxs)("div",{className:"relative my-2",children:[r.jsx("div",{className:"h-px bg-gray-300 w-full"}),n>0&&r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-2",children:r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"})})]}),r.jsx("div",{className:`text-xs font-medium ${0===n?"text-green-600":"text-orange-500"}`,children:(0,d.iP)(n)})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:(0,d.mr)(l.arrival.at)}),r.jsx("div",{className:"text-sm text-gray-500",children:l.arrival.iataCode})]})]})]},t)}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-l from-blue-50 to-white",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-700",children:(0,d.T4)(e.price.grandTotal||e.price.total,e.price.currency)}),r.jsx("div",{className:"text-xs text-gray-400",children:"للشخص الواحد"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[e.numberOfBookableSeats&&e.numberOfBookableSeats<=5&&(0,r.jsxs)("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full",children:["باقي ",e.numberOfBookableSeats," مقاعد"]}),r.jsx("button",{onClick:()=>t(e),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"اختيار ←"})]})]})]},e.id))]})}function c({offer:e,onBook:t,onBack:s,loading:l}){let n=e.travelerPricings?.length||1,[i,o]=(0,a.useState)(Array.from({length:n},(e,t)=>({id:String(t+1),name:{firstName:"",lastName:""},dateOfBirth:"",gender:"MALE",contact:{emailAddress:"",phones:[{deviceType:"MOBILE",countryCallingCode:"966",number:""}]},documents:[{documentType:"PASSPORT",number:"",expiryDate:"",issuanceCountry:"SA",nationality:"SA",holder:!0}]}))),c=(e,t,s)=>{o(r=>{let a=[...r],l=t.split("."),n=a[e];for(let e=0;e<l.length-1;e++)n=n[l[e]];return n[l[l.length-1]]=s,[...a]})};return(0,r.jsxs)("div",{className:"space-y-6",dir:"rtl",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("button",{onClick:s,className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:"→ رجوع للنتائج"}),r.jsx("h2",{className:"text-xl font-bold",children:"ملخص الرحلة"})]}),e.itineraries.map((e,t)=>{let s=e.segments[0],a=e.segments[e.segments.length-1];return(0,r.jsxs)("div",{className:"flex items-center justify-between py-3 border-b last:border-b-0",children:[r.jsx("span",{className:"text-sm text-gray-500",children:0===t?"ذهاب":"عودة"}),(0,r.jsxs)("span",{className:"font-medium",children:[s.departure.iataCode," → ",a.arrival.iataCode]}),r.jsx("span",{children:(0,d.mr)(s.departure.at)}),r.jsx("span",{className:"text-sm text-gray-500",children:e.duration&&(0,d.LU)(e.duration)}),r.jsx("span",{className:`text-xs ${1===e.segments.length?"text-green-600":"text-orange-500"}`,children:(0,d.iP)(e.segments.length-1)})]},t)}),(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"السعر الإجمالي"}),r.jsx("span",{className:"text-2xl font-bold text-blue-700",children:(0,d.T4)(e.price.grandTotal||e.price.total,e.price.currency)})]})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(i)},className:"space-y-6",children:[i.map((t,s)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["المسافر ",s+1,e.travelerPricings?.[s]&&(0,r.jsxs)("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(","ADULT"===e.travelerPricings[s].travelerType?"بالغ":"CHILD"===e.travelerPricings[s].travelerType?"طفل":"رضيع",")"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الاسم الأول (بالإنجليزية)"}),r.jsx("input",{type:"text",required:!0,value:t.name.firstName,onChange:e=>c(s,"name.firstName",e.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"MOHAMMED"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"اسم العائلة (بالإنجليزية)"}),r.jsx("input",{type:"text",required:!0,value:t.name.lastName,onChange:e=>c(s,"name.lastName",e.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ALHARBI"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ الميلاد"}),r.jsx("input",{type:"date",required:!0,value:t.dateOfBirth||"",onChange:e=>c(s,"dateOfBirth",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الجنس"}),(0,r.jsxs)("select",{value:t.gender||"MALE",onChange:e=>c(s,"gender",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"MALE",children:"ذكر"}),r.jsx("option",{value:"FEMALE",children:"أنثى"})]})]}),0===s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"البريد الإلكتروني"}),r.jsx("input",{type:"email",required:!0,value:t.contact?.emailAddress||"",onChange:e=>c(s,"contact.emailAddress",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com",dir:"ltr"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الجوال"}),r.jsx("input",{type:"tel",required:!0,value:t.contact?.phones?.[0]?.number||"",onChange:e=>{let t={...i[s]};t.contact||(t.contact={}),t.contact.phones||(t.contact.phones=[{deviceType:"MOBILE",countryCallingCode:"966",number:""}]),t.contact.phones[0].number=e.target.value;let r=[...i];r[s]=t,o(r)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"5XXXXXXXX",dir:"ltr"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم جواز السفر"}),r.jsx("input",{type:"text",required:!0,value:t.documents?.[0]?.number||"",onChange:e=>{let t={...i[s]};t.documents||(t.documents=[{documentType:"PASSPORT",number:"",holder:!0}]),t.documents[0].number=e.target.value.toUpperCase();let r=[...i];r[s]=t,o(r)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",dir:"ltr"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ انتهاء الجواز"}),r.jsx("input",{type:"date",required:!0,value:t.documents?.[0]?.expiryDate||"",onChange:e=>{let t={...i[s]};t.documents||(t.documents=[{documentType:"PASSPORT",number:"",holder:!0}]),t.documents[0].expiryDate=e.target.value;let r=[...i];r[s]=t,o(r)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]},s)),r.jsx("button",{type:"submit",disabled:l,className:"w-full py-4 bg-gradient-to-l from-green-600 to-green-700 text-white font-bold rounded-xl hover:from-green-700 hover:to-green-800 disabled:opacity-50 transition-all text-lg",children:l?(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}),"جاري الحجز..."]}):"✅ تأكيد الحجز"})]})]})}function u(){let[e,t]=(0,a.useState)("search"),[s,n]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)([]),[h,g]=(0,a.useState)({}),[p,b]=(0,a.useState)(null),[f,j]=(0,a.useState)(null),[y,v]=(0,a.useState)(""),N=async e=>{n(!0),v("");try{let s=await l.cl.search(e);x(s.data||[]),g(s.dictionaries||{}),t("results")}catch(e){v(e.message||"حدث خطأ أثناء البحث")}finally{n(!1)}},w=async e=>{try{n(!0);let s=await l.cl.pricing({type:"flight-offers-pricing",flightOffers:[e]}),r=s.data?.flightOffers?.[0]||e;b(r),t("booking")}catch{b(e),t("booking")}finally{n(!1)}},S=async e=>{if(p){u(!0),v("");try{let s=await l.cl.book({data:{type:"flight-order",flightOffers:[p],travelers:e,ticketingAgreement:{option:"DELAY_TO_QUEUE",dateTime:""}}});j(s),t("confirmation")}catch(e){v(e.message||"حدث خطأ أثناء الحجز")}finally{u(!1)}}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",dir:"rtl",children:[r.jsx("div",{className:"bg-gradient-to-l from-blue-900 to-blue-700 text-white py-12 px-4",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2",children:"✈️ حجز الرحلات"}),r.jsx("p",{className:"text-blue-200 text-lg",children:"ابحث عن أفضل العروض من شركات الطيران العالمية"})]})}),(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 -mt-8 pb-12",children:[y&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-center",children:["⚠️ ",y]}),"search"===e&&r.jsx(i,{onSearch:N,loading:s}),"results"===e&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("button",{onClick:()=>t("search"),className:"text-blue-600 hover:text-blue-800 mb-4 flex items-center gap-1",children:"→ تعديل البحث"}),r.jsx(o,{offers:m,onSelect:w,dictionaries:h})]}),"booking"===e&&p&&r.jsx(c,{offer:p,onBook:S,onBack:()=>t("results"),loading:d}),"confirmation"===e&&f&&(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83C\uDF89"}),r.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-2",children:"تم الحجز بنجاح!"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["رقم الحجز: ",r.jsx("span",{className:"font-mono font-bold text-lg",children:f.data?.id||"N/A"})]}),f.data?.associatedRecords?.map((e,t)=>r.jsxs("div",{className:"text-sm text-gray-500",children:["رقم التأكيد: ",e.reference]},t)),r.jsx("button",{onClick:()=>{t("search"),x([]),b(null),j(null)},className:"mt-8 px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"بحث جديد"})]})]})]})}},8528:(e,t,s)=>{"use strict";s.d(t,{cl:()=>l,kO:()=>i,rT:()=>n,z4:()=>d});let r=process.env.NEXT_PUBLIC_APP_URL||"";async function a(e,t){let s=await fetch(`${r}${e}`,{...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!s.ok)throw Error((await s.json().catch(()=>({error:s.statusText}))).error||`API Error: ${s.status}`);return s.json()}let l={search:e=>a("/api/flights/search",{method:"POST",body:JSON.stringify(e)}),pricing:e=>a("/api/flights/pricing",{method:"POST",body:JSON.stringify(e)}),book:e=>a("/api/flights/book",{method:"POST",body:JSON.stringify(e)}),getOrder:e=>a(`/api/flights/orders/${e}`),cancelOrder:e=>a(`/api/flights/orders/${e}`,{method:"DELETE"}),status:e=>{let t=new URLSearchParams(e).toString();return a(`/api/flights/status?${t}`)},seatMaps:e=>a("/api/flights/seatmaps",{method:"POST",body:JSON.stringify(e)}),cheapestDates:e=>{let t=new URLSearchParams(e).toString();return a(`/api/flights/cheapest-dates?${t}`)}},n={searchByCity:e=>{let t=new URLSearchParams(e).toString();return a(`/api/hotels/search?${t}`)},searchOffers:e=>a("/api/hotels/offers",{method:"POST",body:JSON.stringify(e)}),autocomplete:e=>a(`/api/hotels/autocomplete?keyword=${encodeURIComponent(e)}`),book:e=>a("/api/hotels/book",{method:"POST",body:JSON.stringify(e)})},i={search:e=>a("/api/transfers/search",{method:"POST",body:JSON.stringify(e)}),book:e=>a("/api/transfers/book",{method:"POST",body:JSON.stringify(e)}),cancel:e=>a("/api/transfers/cancel",{method:"POST",body:JSON.stringify(e)})},d={search:e=>{let t=new URLSearchParams(e).toString();return a(`/api/activities/search?${t}`)},get:e=>a(`/api/activities/${e}`)}},7863:(e,t,s)=>{"use strict";function r(e,t="SAR"){let s="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("ar-SA",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(s)}function a(e){let t=e.match(/PT(?:(\d+)H)?(?:(\d+)M)?/);if(!t)return e;let s=t[1]?`${t[1]}س`:"",r=t[2]?`${t[2]}د`:"";return`${s} ${r}`.trim()}function l(e){return new Date(e).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!1})}function n(e){return 0===e?"مباشر":1===e?"توقف واحد":2===e?"توقفان":`${e} توقفات`}function i(e,t){return e.length<=t?e:e.substring(0,t)+"..."}s.d(t,{$G:()=>i,LU:()=>a,T4:()=>r,iP:()=>n,mr:()=>l})},3345:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\ishou\Desktop\MashroukGit\Tmahshruk\CleanMashroky\amadeus-api\app\flights\page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>l});var r=s(9510);s(7272);var a=s(7371);let l={title:"مشروك — حجز الرحلات والفنادق",description:"منصة حجز السفر المتكاملة — رحلات، فنادق، نقل، أنشطة"};function n({children:e}){return r.jsx("html",{lang:"ar",dir:"rtl",children:(0,r.jsxs)("body",{className:"antialiased",children:[r.jsx("nav",{className:"bg-white border-b shadow-sm sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 flex items-center justify-between h-16",children:[r.jsx(a.default,{href:"/",className:"text-xl font-bold text-blue-700",children:"✈️ مشروك"}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[r.jsx(a.default,{href:"/flights",className:"text-gray-600 hover:text-blue-700 font-medium",children:"الرحلات"}),r.jsx(a.default,{href:"/hotels",className:"text-gray-600 hover:text-amber-700 font-medium",children:"الفنادق"}),r.jsx(a.default,{href:"/transfers",className:"text-gray-600 hover:text-emerald-700 font-medium",children:"النقل"}),r.jsx(a.default,{href:"/activities",className:"text-gray-600 hover:text-purple-700 font-medium",children:"الأنشطة"}),r.jsx(a.default,{href:"/admin",className:"text-gray-400 hover:text-gray-600 text-sm",children:"الإدارة"})]})]})}),e]})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,707],()=>s(833));module.exports=r})();